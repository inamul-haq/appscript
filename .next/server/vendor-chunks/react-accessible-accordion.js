"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-accessible-accordion";
exports.ids = ["vendor-chunks/react-accessible-accordion"];
exports.modules = {

/***/ "(ssr)/./node_modules/react-accessible-accordion/dist/es/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-accessible-accordion/dist/es/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Accordion: () => (/* binding */ Accordion),\n/* harmony export */   AccordionItem: () => (/* binding */ AccordionItem),\n/* harmony export */   AccordionItemButton: () => (/* binding */ AccordionItemButtonWrapper),\n/* harmony export */   AccordionItemHeading: () => (/* binding */ AccordionItemHeadingWrapper),\n/* harmony export */   AccordionItemPanel: () => (/* binding */ AccordionItemPanel),\n/* harmony export */   AccordionItemState: () => (/* binding */ AccordionItemState),\n/* harmony export */   resetNextUuid: () => (/* binding */ resetGlobalCounterId)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar AccordionStore = /*#__PURE__*/_createClass(function AccordionStore(_ref) {\n  var _this = this;\n\n  var _ref$expanded = _ref.expanded,\n      _expanded = _ref$expanded === void 0 ? [] : _ref$expanded,\n      _ref$allowMultipleExp = _ref.allowMultipleExpanded,\n      allowMultipleExpanded = _ref$allowMultipleExp === void 0 ? false : _ref$allowMultipleExp,\n      _ref$allowZeroExpande = _ref.allowZeroExpanded,\n      allowZeroExpanded = _ref$allowZeroExpande === void 0 ? false : _ref$allowZeroExpande;\n\n  _classCallCheck(this, AccordionStore);\n\n  _defineProperty(this, \"expanded\", void 0);\n\n  _defineProperty(this, \"allowMultipleExpanded\", void 0);\n\n  _defineProperty(this, \"allowZeroExpanded\", void 0);\n\n  _defineProperty(this, \"toggleExpanded\", function (uuid) {\n    if (_this.isItemDisabled(uuid)) {\n      return _this;\n    }\n\n    var isExpanded = _this.isItemExpanded(uuid);\n\n    if (!isExpanded) {\n      return _this.augment({\n        expanded: _this.allowMultipleExpanded ? [].concat(_toConsumableArray(_this.expanded), [uuid]) : [uuid]\n      });\n    } else {\n      return _this.augment({\n        expanded: _this.expanded.filter(function (expandedUuid) {\n          return expandedUuid !== uuid;\n        })\n      });\n    }\n  });\n\n  _defineProperty(this, \"isItemDisabled\", function (uuid) {\n    var isExpanded = _this.isItemExpanded(uuid);\n\n    var isOnlyOneExpanded = _this.expanded.length === 1;\n    return Boolean(isExpanded && !_this.allowZeroExpanded && isOnlyOneExpanded);\n  });\n\n  _defineProperty(this, \"isItemExpanded\", function (uuid) {\n    return _this.expanded.indexOf(uuid) !== -1;\n  });\n\n  _defineProperty(this, \"getPanelAttributes\", function (uuid, dangerouslySetExpanded) {\n    var expanded = dangerouslySetExpanded !== null && dangerouslySetExpanded !== void 0 ? dangerouslySetExpanded : _this.isItemExpanded(uuid);\n    return {\n      role: _this.allowMultipleExpanded ? undefined : 'region',\n      'aria-hidden': _this.allowMultipleExpanded ? !expanded : undefined,\n      'aria-labelledby': _this.getButtonId(uuid),\n      id: _this.getPanelId(uuid),\n      hidden: expanded ? undefined : true\n    };\n  });\n\n  _defineProperty(this, \"getHeadingAttributes\", function () {\n    return {\n      role: 'heading'\n    };\n  });\n\n  _defineProperty(this, \"getButtonAttributes\", function (uuid, dangerouslySetExpanded) {\n    var expanded = dangerouslySetExpanded !== null && dangerouslySetExpanded !== void 0 ? dangerouslySetExpanded : _this.isItemExpanded(uuid);\n\n    var disabled = _this.isItemDisabled(uuid);\n\n    return {\n      id: _this.getButtonId(uuid),\n      'aria-disabled': disabled,\n      'aria-expanded': expanded,\n      'aria-controls': _this.getPanelId(uuid),\n      role: 'button',\n      tabIndex: 0\n    };\n  });\n\n  _defineProperty(this, \"getPanelId\", function (id) {\n    return \"accordion__panel-\".concat(id);\n  });\n\n  _defineProperty(this, \"getButtonId\", function (id) {\n    return \"accordion__heading-\".concat(id);\n  });\n\n  _defineProperty(this, \"augment\", function (args) {\n    return new AccordionStore(_objectSpread2({\n      expanded: _this.expanded,\n      allowMultipleExpanded: _this.allowMultipleExpanded,\n      allowZeroExpanded: _this.allowZeroExpanded\n    }, args));\n  });\n\n  this.expanded = _expanded;\n  this.allowMultipleExpanded = allowMultipleExpanded;\n  this.allowZeroExpanded = allowZeroExpanded;\n});\n\nvar Context = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar Provider = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Provider, _React$PureComponent);\n\n  var _super = _createSuper(Provider);\n\n  function Provider() {\n    var _this;\n\n    _classCallCheck(this, Provider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", new AccordionStore({\n      expanded: _this.props.preExpanded,\n      allowMultipleExpanded: _this.props.allowMultipleExpanded,\n      allowZeroExpanded: _this.props.allowZeroExpanded\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleExpanded\", function (key) {\n      _this.setState(function (state) {\n        return state.toggleExpanded(key);\n      }, function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(_this.state.expanded);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isItemDisabled\", function (key) {\n      return _this.state.isItemDisabled(key);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isItemExpanded\", function (key) {\n      return _this.state.isItemExpanded(key);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPanelAttributes\", function (key, dangerouslySetExpanded) {\n      return _this.state.getPanelAttributes(key, dangerouslySetExpanded);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getHeadingAttributes\", function () {\n      // uuid: UUID\n      return _this.state.getHeadingAttributes();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getButtonAttributes\", function (key, dangerouslySetExpanded) {\n      return _this.state.getButtonAttributes(key, dangerouslySetExpanded);\n    });\n\n    return _this;\n  }\n\n  _createClass(Provider, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          allowZeroExpanded = _this$state.allowZeroExpanded,\n          allowMultipleExpanded = _this$state.allowMultipleExpanded;\n      return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Context.Provider, {\n        value: {\n          allowMultipleExpanded: allowMultipleExpanded,\n          allowZeroExpanded: allowZeroExpanded,\n          toggleExpanded: this.toggleExpanded,\n          isItemDisabled: this.isItemDisabled,\n          isItemExpanded: this.isItemExpanded,\n          getPanelAttributes: this.getPanelAttributes,\n          getHeadingAttributes: this.getHeadingAttributes,\n          getButtonAttributes: this.getButtonAttributes\n        }\n      }, this.props.children || null);\n    }\n  }]);\n\n  return Provider;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent);\n\n_defineProperty(Provider, \"defaultProps\", {\n  allowMultipleExpanded: false,\n  allowZeroExpanded: false\n});\n\nvar Consumer = /*#__PURE__*/function (_React$PureComponent2) {\n  _inherits(Consumer, _React$PureComponent2);\n\n  var _super2 = _createSuper(Consumer);\n\n  function Consumer() {\n    var _this2;\n\n    _classCallCheck(this, Consumer);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this2), \"renderChildren\", function (container) {\n      return container ? _this2.props.children(container) : null;\n    });\n\n    return _this2;\n  }\n\n  _createClass(Consumer, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Context.Consumer, null, this.renderChildren);\n    }\n  }]);\n\n  return Consumer;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent);\n\nvar _excluded = [\"className\", \"allowMultipleExpanded\", \"allowZeroExpanded\", \"onChange\", \"preExpanded\"];\n\nvar Accordion = function Accordion(_ref) {\n  var _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'accordion' : _ref$className,\n      allowMultipleExpanded = _ref.allowMultipleExpanded,\n      allowZeroExpanded = _ref.allowZeroExpanded,\n      onChange = _ref.onChange,\n      preExpanded = _ref.preExpanded,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Provider, {\n    preExpanded: preExpanded,\n    allowMultipleExpanded: allowMultipleExpanded,\n    allowZeroExpanded: allowZeroExpanded,\n    onChange: onChange\n  }, /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"div\", _extends({\n    \"data-accordion-component\": \"Accordion\",\n    className: className\n  }, rest)));\n};\n\nvar DisplayName;\n\n(function (DisplayName) {\n  DisplayName[\"Accordion\"] = \"Accordion\";\n  DisplayName[\"AccordionItem\"] = \"AccordionItem\";\n  DisplayName[\"AccordionItemButton\"] = \"AccordionItemButton\";\n  DisplayName[\"AccordionItemHeading\"] = \"AccordionItemHeading\";\n  DisplayName[\"AccordionItemPanel\"] = \"AccordionItemPanel\";\n})(DisplayName || (DisplayName = {}));\n\nvar DisplayName$1 = DisplayName;\n\n// @ts-ignore\nvar DEFAULT = 0;\nvar counter = 0;\nfunction useGlobalCounterId() {\n  var current = counter;\n  counter = counter + 1;\n  return \"raa-\".concat(current);\n}\nfunction resetGlobalCounterId() {\n  counter = DEFAULT;\n}\nvar useNextId = react__WEBPACK_IMPORTED_MODULE_0__.useId || useGlobalCounterId; // HTML5 ids allow all unicode characters, except for ASCII whitespaces\n// https://infra.spec.whatwg.org/#ascii-whitespace\n// eslint-disable-next-line no-control-regex\n\nvar idRegex = /[\\u0009\\u000a\\u000c\\u000d\\u0020]/g;\nfunction assertValidHtmlId(htmlId) {\n  if (htmlId === '' || idRegex.test(htmlId)) {\n    console.error(\"uuid must be a valid HTML5 id but was given \\\"\".concat(htmlId, \"\\\", ASCII whitespaces are forbidden\"));\n    return false;\n  }\n\n  return true;\n}\n\nvar Context$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\n\nvar Provider$1 = function Provider(_ref) {\n  var children = _ref.children,\n      uuid = _ref.uuid,\n      accordionContext = _ref.accordionContext,\n      dangerouslySetExpanded = _ref.dangerouslySetExpanded;\n\n  var toggleExpanded = function toggleExpanded() {\n    accordionContext.toggleExpanded(uuid);\n  };\n\n  var renderChildren = function renderChildren(accordionContext) {\n    var expanded = dangerouslySetExpanded !== null && dangerouslySetExpanded !== void 0 ? dangerouslySetExpanded : accordionContext.isItemExpanded(uuid);\n    var disabled = accordionContext.isItemDisabled(uuid);\n    var panelAttributes = accordionContext.getPanelAttributes(uuid, dangerouslySetExpanded);\n    var headingAttributes = accordionContext.getHeadingAttributes(uuid);\n    var buttonAttributes = accordionContext.getButtonAttributes(uuid, dangerouslySetExpanded);\n    return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Context$1.Provider, {\n      value: {\n        uuid: uuid,\n        expanded: expanded,\n        disabled: disabled,\n        toggleExpanded: toggleExpanded,\n        panelAttributes: panelAttributes,\n        headingAttributes: headingAttributes,\n        buttonAttributes: buttonAttributes\n      }\n    }, children);\n  };\n\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Consumer, null, renderChildren);\n};\n\nvar ProviderWrapper = function ProviderWrapper(props) {\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Consumer, null, function (accordionContext) {\n    return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Provider$1, _extends({}, props, {\n      accordionContext: accordionContext\n    }));\n  });\n};\nvar Consumer$1 = function Consumer(_ref2) {\n  var children = _ref2.children;\n\n  var renderChildren = function renderChildren(container) {\n    return container ? children(container) : null;\n  };\n\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Context$1.Consumer, null, renderChildren);\n};\n\nvar _excluded$1 = [\"uuid\", \"dangerouslySetExpanded\", \"className\", \"activeClassName\"];\n\nvar AccordionItem = function AccordionItem(_ref) {\n  var customUuid = _ref.uuid,\n      dangerouslySetExpanded = _ref.dangerouslySetExpanded,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'accordion__item' : _ref$className,\n      activeClassName = _ref.activeClassName,\n      rest = _objectWithoutProperties(_ref, _excluded$1);\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(useNextId()),\n      _useState2 = _slicedToArray(_useState, 1),\n      instanceUuid = _useState2[0];\n\n  var uuid = customUuid !== null && customUuid !== void 0 ? customUuid : instanceUuid;\n\n  var renderChildren = function renderChildren(itemContext) {\n    var expanded = itemContext.expanded;\n    var cx = expanded && activeClassName ? activeClassName : className;\n    return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"div\", _extends({\n      \"data-accordion-component\": \"AccordionItem\",\n      className: cx\n    }, rest));\n  };\n\n  assertValidHtmlId(uuid.toString());\n\n  if (rest.id) {\n    assertValidHtmlId(rest.id);\n  }\n\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ProviderWrapper, {\n    uuid: uuid,\n    dangerouslySetExpanded: dangerouslySetExpanded\n  }, /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Consumer$1, null, renderChildren));\n};\n\nAccordionItem.displayName = DisplayName$1.AccordionItem;\n\nfunction getClosestAccordion(el) {\n  return el && (el.matches('[data-accordion-component=\"Accordion\"]') ? el : getClosestAccordion(el.parentElement));\n}\nfunction getSiblingButtons(item) {\n  var parentAccordion = getClosestAccordion(item);\n  return parentAccordion && Array.from(parentAccordion.querySelectorAll('[data-accordion-component=\"AccordionItemButton\"]'));\n}\nfunction focusFirstSiblingOf(item) {\n  var siblings = getSiblingButtons(item) || [];\n  var first = siblings[0];\n\n  if (first) {\n    first.focus();\n  }\n}\nfunction focusLastSiblingOf(item) {\n  var siblings = getSiblingButtons(item) || [];\n  var last = siblings[siblings.length - 1];\n\n  if (last) {\n    last.focus();\n  }\n}\nfunction focusNextSiblingOf(item) {\n  var siblings = getSiblingButtons(item) || [];\n  var currentIndex = siblings.indexOf(item);\n\n  if (currentIndex !== -1) {\n    var next = siblings[currentIndex + 1];\n\n    if (next) {\n      next.focus();\n    }\n  }\n}\nfunction focusPreviousSiblingOf(item) {\n  var siblings = getSiblingButtons(item) || [];\n  var currentIndex = siblings.indexOf(item);\n\n  if (currentIndex !== -1) {\n    var previous = siblings[currentIndex - 1];\n\n    if (previous) {\n      previous.focus();\n    }\n  }\n}\n\nvar keycodes = {\n  END: 'End',\n  ENTER: 'Enter',\n  HOME: 'Home',\n  SPACE: ' ',\n  SPACE_DEPRECATED: 'Spacebar',\n  UP: 'ArrowUp',\n  DOWN: 'ArrowDown',\n  LEFT: 'ArrowLeft',\n  RIGHT: 'ArrowRight'\n};\n\nvar _excluded$2 = [\"toggleExpanded\", \"className\"];\n\nvar AccordionItemButton = function AccordionItemButton(_ref) {\n  var toggleExpanded = _ref.toggleExpanded,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'accordion__button' : _ref$className,\n      rest = _objectWithoutProperties(_ref, _excluded$2);\n\n  var handleKeyPress = function handleKeyPress(evt) {\n    var keyCode = evt.key;\n\n    if (keyCode === keycodes.ENTER || keyCode === keycodes.SPACE || keyCode === keycodes.SPACE_DEPRECATED) {\n      evt.preventDefault();\n      toggleExpanded();\n    }\n    /* The following block is ignored from test coverage because at time\n     * time of writing Jest/react-testing-library can not assert 'focus'\n     * functionality.\n     */\n    // istanbul ignore next\n\n\n    if (evt.target instanceof HTMLElement) {\n      switch (keyCode) {\n        case keycodes.HOME:\n          {\n            evt.preventDefault();\n            focusFirstSiblingOf(evt.target);\n            break;\n          }\n\n        case keycodes.END:\n          {\n            evt.preventDefault();\n            focusLastSiblingOf(evt.target);\n            break;\n          }\n\n        case keycodes.LEFT:\n        case keycodes.UP:\n          {\n            evt.preventDefault();\n            focusPreviousSiblingOf(evt.target);\n            break;\n          }\n\n        case keycodes.RIGHT:\n        case keycodes.DOWN:\n          {\n            evt.preventDefault();\n            focusNextSiblingOf(evt.target);\n            break;\n          }\n      }\n    }\n  };\n\n  if (rest.id) {\n    assertValidHtmlId(rest.id);\n  }\n\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"div\", _extends({\n    className: className\n  }, rest, {\n    role: \"button\",\n    tabIndex: 0,\n    onClick: toggleExpanded,\n    onKeyDown: handleKeyPress,\n    \"data-accordion-component\": \"AccordionItemButton\"\n  }));\n};\n\nvar AccordionItemButtonWrapper = function AccordionItemButtonWrapper(props) {\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Consumer$1, null, function (itemContext) {\n    var toggleExpanded = itemContext.toggleExpanded,\n        buttonAttributes = itemContext.buttonAttributes;\n    return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(AccordionItemButton, _extends({\n      toggleExpanded: toggleExpanded\n    }, props, buttonAttributes));\n  });\n};\n\nvar defaultProps = {\n  className: 'accordion__heading',\n  'aria-level': 3\n};\nvar SPEC_ERROR = \"AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.\\n\\nFrom the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):\\n\\n\\u201CThe button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.\\u201D\\n\\n\";\nvar AccordionItemHeading = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(AccordionItemHeading, _React$PureComponent);\n\n  var _super = _createSuper(AccordionItemHeading);\n\n  function AccordionItemHeading() {\n    var _this;\n\n    _classCallCheck(this, AccordionItemHeading);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"ref\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setRef\", function (ref) {\n      _this.ref = ref;\n    });\n\n    return _this;\n  }\n\n  _createClass(AccordionItemHeading, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      AccordionItemHeading.VALIDATE(this.ref);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      AccordionItemHeading.VALIDATE(this.ref);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"div\", _extends({\n        \"data-accordion-component\": \"AccordionItemHeading\"\n      }, this.props, {\n        ref: this.setRef\n      }));\n    }\n  }], [{\n    key: \"VALIDATE\",\n    value: function VALIDATE(ref) {\n      if (ref === undefined) {\n        throw new Error('ref is undefined');\n      }\n\n      if (!(ref.childElementCount === 1 && ref.firstElementChild && ref.firstElementChild.getAttribute('data-accordion-component') === 'AccordionItemButton')) {\n        throw new Error(SPEC_ERROR);\n      }\n    }\n  }]);\n\n  return AccordionItemHeading;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent);\n\n_defineProperty(AccordionItemHeading, \"defaultProps\", defaultProps);\n\nvar AccordionItemHeadingWrapper = function AccordionItemHeadingWrapper(props) {\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Consumer$1, null, function (itemContext) {\n    var headingAttributes = itemContext.headingAttributes;\n\n    if (props.id) {\n      assertValidHtmlId(props.id);\n    }\n\n    return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(AccordionItemHeading, _extends({}, props, headingAttributes));\n  });\n};\n\nAccordionItemHeadingWrapper.displayName = DisplayName$1.AccordionItemHeading;\n\nvar _excluded$3 = [\"className\", \"region\", \"id\"];\n\nvar AccordionItemPanel = function AccordionItemPanel(_ref) {\n  var _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'accordion__panel' : _ref$className,\n      region = _ref.region,\n      id = _ref.id,\n      rest = _objectWithoutProperties(_ref, _excluded$3);\n\n  var renderChildren = function renderChildren(_ref2) {\n    var panelAttributes = _ref2.panelAttributes;\n\n    if (id) {\n      assertValidHtmlId(id);\n    }\n\n    var attrs = _objectSpread2(_objectSpread2({}, panelAttributes), {}, {\n      'aria-labelledby': region ? panelAttributes['aria-labelledby'] : undefined\n    });\n\n    return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"div\", _extends({\n      \"data-accordion-component\": \"AccordionItemPanel\",\n      className: className\n    }, rest, attrs, {\n      role: region ? 'region' : undefined\n    }));\n  };\n\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Consumer$1, null, renderChildren);\n};\n\nvar AccordionItemState = function AccordionItemState(_ref) {\n  var children = _ref.children;\n\n  var renderChildren = function renderChildren(itemContext) {\n    var expanded = itemContext.expanded,\n        disabled = itemContext.disabled;\n    return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children({\n      expanded: expanded,\n      disabled: disabled\n    }));\n  };\n\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Consumer$1, null, renderChildren);\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtYWNjZXNzaWJsZS1hY2NvcmRpb24vZGlzdC9lcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBK0Y7O0FBRS9GO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnRkFBZ0Y7QUFDaEY7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyx1QkFBdUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDLENBQUMsZ0RBQWE7O0FBRWY7O0FBRUE7QUFDQSxzQkFBc0Isb0RBQWE7QUFDbkM7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHdCQUF3QixvREFBYSxrQ0FBa0M7QUFDdkUsR0FBRztBQUNIOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxnREFBZ0Qsc0JBQXNCO0FBQ3RFO0FBQ0EsS0FBSzs7QUFFTCx3QkFBd0Isb0RBQWE7QUFDckM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQSxzQkFBc0Isb0RBQWE7QUFDbkM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQWEsQ0FBQywyQ0FBUTtBQUM5QztBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLHNCQUFzQixvREFBYTtBQUNuQzs7QUFFMk4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHBzY3JpcC8uL25vZGVfbW9kdWxlcy9yZWFjdC1hY2Nlc3NpYmxlLWFjY29yZGlvbi9kaXN0L2VzL2luZGV4LmpzPzM2ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgUHVyZUNvbXBvbmVudCwgY3JlYXRlQ29udGV4dCwgdXNlSWQsIHVzZVN0YXRlLCBGcmFnbWVudCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICAgIGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gIH1cblxuICByZXR1cm4ga2V5cztcbn1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307XG4gICAgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gIHRyeSB7XG4gICAgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcblxuICB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7XG5cbiAgdmFyIGtleSwgaTtcblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG4gICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICByZXR1cm4gY2FsbDtcbiAgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7XG4gIH1cblxuICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHtcbiAgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkge1xuICAgIHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSxcbiAgICAgICAgcmVzdWx0O1xuXG4gICAgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHtcbiAgICAgIHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7XG5cbiAgICAgIHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG52YXIgQWNjb3JkaW9uU3RvcmUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIEFjY29yZGlvblN0b3JlKF9yZWYpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgX3JlZiRleHBhbmRlZCA9IF9yZWYuZXhwYW5kZWQsXG4gICAgICBfZXhwYW5kZWQgPSBfcmVmJGV4cGFuZGVkID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkZXhwYW5kZWQsXG4gICAgICBfcmVmJGFsbG93TXVsdGlwbGVFeHAgPSBfcmVmLmFsbG93TXVsdGlwbGVFeHBhbmRlZCxcbiAgICAgIGFsbG93TXVsdGlwbGVFeHBhbmRlZCA9IF9yZWYkYWxsb3dNdWx0aXBsZUV4cCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGFsbG93TXVsdGlwbGVFeHAsXG4gICAgICBfcmVmJGFsbG93WmVyb0V4cGFuZGUgPSBfcmVmLmFsbG93WmVyb0V4cGFuZGVkLFxuICAgICAgYWxsb3daZXJvRXhwYW5kZWQgPSBfcmVmJGFsbG93WmVyb0V4cGFuZGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRhbGxvd1plcm9FeHBhbmRlO1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY2NvcmRpb25TdG9yZSk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZXhwYW5kZWRcIiwgdm9pZCAwKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJhbGxvd011bHRpcGxlRXhwYW5kZWRcIiwgdm9pZCAwKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJhbGxvd1plcm9FeHBhbmRlZFwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvZ2dsZUV4cGFuZGVkXCIsIGZ1bmN0aW9uICh1dWlkKSB7XG4gICAgaWYgKF90aGlzLmlzSXRlbURpc2FibGVkKHV1aWQpKSB7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgdmFyIGlzRXhwYW5kZWQgPSBfdGhpcy5pc0l0ZW1FeHBhbmRlZCh1dWlkKTtcblxuICAgIGlmICghaXNFeHBhbmRlZCkge1xuICAgICAgcmV0dXJuIF90aGlzLmF1Z21lbnQoe1xuICAgICAgICBleHBhbmRlZDogX3RoaXMuYWxsb3dNdWx0aXBsZUV4cGFuZGVkID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5leHBhbmRlZCksIFt1dWlkXSkgOiBbdXVpZF1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gX3RoaXMuYXVnbWVudCh7XG4gICAgICAgIGV4cGFuZGVkOiBfdGhpcy5leHBhbmRlZC5maWx0ZXIoZnVuY3Rpb24gKGV4cGFuZGVkVXVpZCkge1xuICAgICAgICAgIHJldHVybiBleHBhbmRlZFV1aWQgIT09IHV1aWQ7XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzSXRlbURpc2FibGVkXCIsIGZ1bmN0aW9uICh1dWlkKSB7XG4gICAgdmFyIGlzRXhwYW5kZWQgPSBfdGhpcy5pc0l0ZW1FeHBhbmRlZCh1dWlkKTtcblxuICAgIHZhciBpc09ubHlPbmVFeHBhbmRlZCA9IF90aGlzLmV4cGFuZGVkLmxlbmd0aCA9PT0gMTtcbiAgICByZXR1cm4gQm9vbGVhbihpc0V4cGFuZGVkICYmICFfdGhpcy5hbGxvd1plcm9FeHBhbmRlZCAmJiBpc09ubHlPbmVFeHBhbmRlZCk7XG4gIH0pO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzSXRlbUV4cGFuZGVkXCIsIGZ1bmN0aW9uICh1dWlkKSB7XG4gICAgcmV0dXJuIF90aGlzLmV4cGFuZGVkLmluZGV4T2YodXVpZCkgIT09IC0xO1xuICB9KTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRQYW5lbEF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKHV1aWQsIGRhbmdlcm91c2x5U2V0RXhwYW5kZWQpIHtcbiAgICB2YXIgZXhwYW5kZWQgPSBkYW5nZXJvdXNseVNldEV4cGFuZGVkICE9PSBudWxsICYmIGRhbmdlcm91c2x5U2V0RXhwYW5kZWQgIT09IHZvaWQgMCA/IGRhbmdlcm91c2x5U2V0RXhwYW5kZWQgOiBfdGhpcy5pc0l0ZW1FeHBhbmRlZCh1dWlkKTtcbiAgICByZXR1cm4ge1xuICAgICAgcm9sZTogX3RoaXMuYWxsb3dNdWx0aXBsZUV4cGFuZGVkID8gdW5kZWZpbmVkIDogJ3JlZ2lvbicsXG4gICAgICAnYXJpYS1oaWRkZW4nOiBfdGhpcy5hbGxvd011bHRpcGxlRXhwYW5kZWQgPyAhZXhwYW5kZWQgOiB1bmRlZmluZWQsXG4gICAgICAnYXJpYS1sYWJlbGxlZGJ5JzogX3RoaXMuZ2V0QnV0dG9uSWQodXVpZCksXG4gICAgICBpZDogX3RoaXMuZ2V0UGFuZWxJZCh1dWlkKSxcbiAgICAgIGhpZGRlbjogZXhwYW5kZWQgPyB1bmRlZmluZWQgOiB0cnVlXG4gICAgfTtcbiAgfSk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0SGVhZGluZ0F0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICByb2xlOiAnaGVhZGluZydcbiAgICB9O1xuICB9KTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRCdXR0b25BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uICh1dWlkLCBkYW5nZXJvdXNseVNldEV4cGFuZGVkKSB7XG4gICAgdmFyIGV4cGFuZGVkID0gZGFuZ2Vyb3VzbHlTZXRFeHBhbmRlZCAhPT0gbnVsbCAmJiBkYW5nZXJvdXNseVNldEV4cGFuZGVkICE9PSB2b2lkIDAgPyBkYW5nZXJvdXNseVNldEV4cGFuZGVkIDogX3RoaXMuaXNJdGVtRXhwYW5kZWQodXVpZCk7XG5cbiAgICB2YXIgZGlzYWJsZWQgPSBfdGhpcy5pc0l0ZW1EaXNhYmxlZCh1dWlkKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogX3RoaXMuZ2V0QnV0dG9uSWQodXVpZCksXG4gICAgICAnYXJpYS1kaXNhYmxlZCc6IGRpc2FibGVkLFxuICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBleHBhbmRlZCxcbiAgICAgICdhcmlhLWNvbnRyb2xzJzogX3RoaXMuZ2V0UGFuZWxJZCh1dWlkKSxcbiAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgdGFiSW5kZXg6IDBcbiAgICB9O1xuICB9KTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRQYW5lbElkXCIsIGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiBcImFjY29yZGlvbl9fcGFuZWwtXCIuY29uY2F0KGlkKTtcbiAgfSk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0QnV0dG9uSWRcIiwgZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIFwiYWNjb3JkaW9uX19oZWFkaW5nLVwiLmNvbmNhdChpZCk7XG4gIH0pO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF1Z21lbnRcIiwgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICByZXR1cm4gbmV3IEFjY29yZGlvblN0b3JlKF9vYmplY3RTcHJlYWQyKHtcbiAgICAgIGV4cGFuZGVkOiBfdGhpcy5leHBhbmRlZCxcbiAgICAgIGFsbG93TXVsdGlwbGVFeHBhbmRlZDogX3RoaXMuYWxsb3dNdWx0aXBsZUV4cGFuZGVkLFxuICAgICAgYWxsb3daZXJvRXhwYW5kZWQ6IF90aGlzLmFsbG93WmVyb0V4cGFuZGVkXG4gICAgfSwgYXJncykpO1xuICB9KTtcblxuICB0aGlzLmV4cGFuZGVkID0gX2V4cGFuZGVkO1xuICB0aGlzLmFsbG93TXVsdGlwbGVFeHBhbmRlZCA9IGFsbG93TXVsdGlwbGVFeHBhbmRlZDtcbiAgdGhpcy5hbGxvd1plcm9FeHBhbmRlZCA9IGFsbG93WmVyb0V4cGFuZGVkO1xufSk7XG5cbnZhciBDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQobnVsbCk7XG52YXIgUHJvdmlkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQcm92aWRlciwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUHJvdmlkZXIpO1xuXG4gIGZ1bmN0aW9uIFByb3ZpZGVyKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm92aWRlcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbC5hcHBseShfc3VwZXIsIFt0aGlzXS5jb25jYXQoYXJncykpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXRlXCIsIG5ldyBBY2NvcmRpb25TdG9yZSh7XG4gICAgICBleHBhbmRlZDogX3RoaXMucHJvcHMucHJlRXhwYW5kZWQsXG4gICAgICBhbGxvd011bHRpcGxlRXhwYW5kZWQ6IF90aGlzLnByb3BzLmFsbG93TXVsdGlwbGVFeHBhbmRlZCxcbiAgICAgIGFsbG93WmVyb0V4cGFuZGVkOiBfdGhpcy5wcm9wcy5hbGxvd1plcm9FeHBhbmRlZFxuICAgIH0pKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJ0b2dnbGVFeHBhbmRlZFwiLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLnRvZ2dsZUV4cGFuZGVkKGtleSk7XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKF90aGlzLnN0YXRlLmV4cGFuZGVkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaXNJdGVtRGlzYWJsZWRcIiwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIF90aGlzLnN0YXRlLmlzSXRlbURpc2FibGVkKGtleSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaXNJdGVtRXhwYW5kZWRcIiwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIF90aGlzLnN0YXRlLmlzSXRlbUV4cGFuZGVkKGtleSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiZ2V0UGFuZWxBdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChrZXksIGRhbmdlcm91c2x5U2V0RXhwYW5kZWQpIHtcbiAgICAgIHJldHVybiBfdGhpcy5zdGF0ZS5nZXRQYW5lbEF0dHJpYnV0ZXMoa2V5LCBkYW5nZXJvdXNseVNldEV4cGFuZGVkKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJnZXRIZWFkaW5nQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyB1dWlkOiBVVUlEXG4gICAgICByZXR1cm4gX3RoaXMuc3RhdGUuZ2V0SGVhZGluZ0F0dHJpYnV0ZXMoKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJnZXRCdXR0b25BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChrZXksIGRhbmdlcm91c2x5U2V0RXhwYW5kZWQpIHtcbiAgICAgIHJldHVybiBfdGhpcy5zdGF0ZS5nZXRCdXR0b25BdHRyaWJ1dGVzKGtleSwgZGFuZ2Vyb3VzbHlTZXRFeHBhbmRlZCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUHJvdmlkZXIsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGFsbG93WmVyb0V4cGFuZGVkID0gX3RoaXMkc3RhdGUuYWxsb3daZXJvRXhwYW5kZWQsXG4gICAgICAgICAgYWxsb3dNdWx0aXBsZUV4cGFuZGVkID0gX3RoaXMkc3RhdGUuYWxsb3dNdWx0aXBsZUV4cGFuZGVkO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBhbGxvd011bHRpcGxlRXhwYW5kZWQ6IGFsbG93TXVsdGlwbGVFeHBhbmRlZCxcbiAgICAgICAgICBhbGxvd1plcm9FeHBhbmRlZDogYWxsb3daZXJvRXhwYW5kZWQsXG4gICAgICAgICAgdG9nZ2xlRXhwYW5kZWQ6IHRoaXMudG9nZ2xlRXhwYW5kZWQsXG4gICAgICAgICAgaXNJdGVtRGlzYWJsZWQ6IHRoaXMuaXNJdGVtRGlzYWJsZWQsXG4gICAgICAgICAgaXNJdGVtRXhwYW5kZWQ6IHRoaXMuaXNJdGVtRXhwYW5kZWQsXG4gICAgICAgICAgZ2V0UGFuZWxBdHRyaWJ1dGVzOiB0aGlzLmdldFBhbmVsQXR0cmlidXRlcyxcbiAgICAgICAgICBnZXRIZWFkaW5nQXR0cmlidXRlczogdGhpcy5nZXRIZWFkaW5nQXR0cmlidXRlcyxcbiAgICAgICAgICBnZXRCdXR0b25BdHRyaWJ1dGVzOiB0aGlzLmdldEJ1dHRvbkF0dHJpYnV0ZXNcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcy5wcm9wcy5jaGlsZHJlbiB8fCBudWxsKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUHJvdmlkZXI7XG59KFB1cmVDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoUHJvdmlkZXIsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgYWxsb3dNdWx0aXBsZUV4cGFuZGVkOiBmYWxzZSxcbiAgYWxsb3daZXJvRXhwYW5kZWQ6IGZhbHNlXG59KTtcblxudmFyIENvbnN1bWVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudDIpIHtcbiAgX2luaGVyaXRzKENvbnN1bWVyLCBfUmVhY3QkUHVyZUNvbXBvbmVudDIpO1xuXG4gIHZhciBfc3VwZXIyID0gX2NyZWF0ZVN1cGVyKENvbnN1bWVyKTtcblxuICBmdW5jdGlvbiBDb25zdW1lcigpIHtcbiAgICB2YXIgX3RoaXMyO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnN1bWVyKTtcblxuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIF90aGlzMiA9IF9zdXBlcjIuY2FsbC5hcHBseShfc3VwZXIyLCBbdGhpc10uY29uY2F0KGFyZ3MpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksIFwicmVuZGVyQ2hpbGRyZW5cIiwgZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIGNvbnRhaW5lciA/IF90aGlzMi5wcm9wcy5jaGlsZHJlbihjb250YWluZXIpIDogbnVsbDtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpczI7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ29uc3VtZXIsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoQ29udGV4dC5Db25zdW1lciwgbnVsbCwgdGhpcy5yZW5kZXJDaGlsZHJlbik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvbnN1bWVyO1xufShQdXJlQ29tcG9uZW50KTtcblxudmFyIF9leGNsdWRlZCA9IFtcImNsYXNzTmFtZVwiLCBcImFsbG93TXVsdGlwbGVFeHBhbmRlZFwiLCBcImFsbG93WmVyb0V4cGFuZGVkXCIsIFwib25DaGFuZ2VcIiwgXCJwcmVFeHBhbmRlZFwiXTtcblxudmFyIEFjY29yZGlvbiA9IGZ1bmN0aW9uIEFjY29yZGlvbihfcmVmKSB7XG4gIHZhciBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICdhY2NvcmRpb24nIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICBhbGxvd011bHRpcGxlRXhwYW5kZWQgPSBfcmVmLmFsbG93TXVsdGlwbGVFeHBhbmRlZCxcbiAgICAgIGFsbG93WmVyb0V4cGFuZGVkID0gX3JlZi5hbGxvd1plcm9FeHBhbmRlZCxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZSxcbiAgICAgIHByZUV4cGFuZGVkID0gX3JlZi5wcmVFeHBhbmRlZCxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoUHJvdmlkZXIsIHtcbiAgICBwcmVFeHBhbmRlZDogcHJlRXhwYW5kZWQsXG4gICAgYWxsb3dNdWx0aXBsZUV4cGFuZGVkOiBhbGxvd011bHRpcGxlRXhwYW5kZWQsXG4gICAgYWxsb3daZXJvRXhwYW5kZWQ6IGFsbG93WmVyb0V4cGFuZGVkLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVxuICB9LCAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgXCJkYXRhLWFjY29yZGlvbi1jb21wb25lbnRcIjogXCJBY2NvcmRpb25cIixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICB9LCByZXN0KSkpO1xufTtcblxudmFyIERpc3BsYXlOYW1lO1xuXG4oZnVuY3Rpb24gKERpc3BsYXlOYW1lKSB7XG4gIERpc3BsYXlOYW1lW1wiQWNjb3JkaW9uXCJdID0gXCJBY2NvcmRpb25cIjtcbiAgRGlzcGxheU5hbWVbXCJBY2NvcmRpb25JdGVtXCJdID0gXCJBY2NvcmRpb25JdGVtXCI7XG4gIERpc3BsYXlOYW1lW1wiQWNjb3JkaW9uSXRlbUJ1dHRvblwiXSA9IFwiQWNjb3JkaW9uSXRlbUJ1dHRvblwiO1xuICBEaXNwbGF5TmFtZVtcIkFjY29yZGlvbkl0ZW1IZWFkaW5nXCJdID0gXCJBY2NvcmRpb25JdGVtSGVhZGluZ1wiO1xuICBEaXNwbGF5TmFtZVtcIkFjY29yZGlvbkl0ZW1QYW5lbFwiXSA9IFwiQWNjb3JkaW9uSXRlbVBhbmVsXCI7XG59KShEaXNwbGF5TmFtZSB8fCAoRGlzcGxheU5hbWUgPSB7fSkpO1xuXG52YXIgRGlzcGxheU5hbWUkMSA9IERpc3BsYXlOYW1lO1xuXG4vLyBAdHMtaWdub3JlXG52YXIgREVGQVVMVCA9IDA7XG52YXIgY291bnRlciA9IDA7XG5mdW5jdGlvbiB1c2VHbG9iYWxDb3VudGVySWQoKSB7XG4gIHZhciBjdXJyZW50ID0gY291bnRlcjtcbiAgY291bnRlciA9IGNvdW50ZXIgKyAxO1xuICByZXR1cm4gXCJyYWEtXCIuY29uY2F0KGN1cnJlbnQpO1xufVxuZnVuY3Rpb24gcmVzZXRHbG9iYWxDb3VudGVySWQoKSB7XG4gIGNvdW50ZXIgPSBERUZBVUxUO1xufVxudmFyIHVzZU5leHRJZCA9IHVzZUlkIHx8IHVzZUdsb2JhbENvdW50ZXJJZDsgLy8gSFRNTDUgaWRzIGFsbG93IGFsbCB1bmljb2RlIGNoYXJhY3RlcnMsIGV4Y2VwdCBmb3IgQVNDSUkgd2hpdGVzcGFjZXNcbi8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNhc2NpaS13aGl0ZXNwYWNlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuXG52YXIgaWRSZWdleCA9IC9bXFx1MDAwOVxcdTAwMGFcXHUwMDBjXFx1MDAwZFxcdTAwMjBdL2c7XG5mdW5jdGlvbiBhc3NlcnRWYWxpZEh0bWxJZChodG1sSWQpIHtcbiAgaWYgKGh0bWxJZCA9PT0gJycgfHwgaWRSZWdleC50ZXN0KGh0bWxJZCkpIHtcbiAgICBjb25zb2xlLmVycm9yKFwidXVpZCBtdXN0IGJlIGEgdmFsaWQgSFRNTDUgaWQgYnV0IHdhcyBnaXZlbiBcXFwiXCIuY29uY2F0KGh0bWxJZCwgXCJcXFwiLCBBU0NJSSB3aGl0ZXNwYWNlcyBhcmUgZm9yYmlkZGVuXCIpKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxudmFyIENvbnRleHQkMSA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xuXG52YXIgUHJvdmlkZXIkMSA9IGZ1bmN0aW9uIFByb3ZpZGVyKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIHV1aWQgPSBfcmVmLnV1aWQsXG4gICAgICBhY2NvcmRpb25Db250ZXh0ID0gX3JlZi5hY2NvcmRpb25Db250ZXh0LFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRFeHBhbmRlZCA9IF9yZWYuZGFuZ2Vyb3VzbHlTZXRFeHBhbmRlZDtcblxuICB2YXIgdG9nZ2xlRXhwYW5kZWQgPSBmdW5jdGlvbiB0b2dnbGVFeHBhbmRlZCgpIHtcbiAgICBhY2NvcmRpb25Db250ZXh0LnRvZ2dsZUV4cGFuZGVkKHV1aWQpO1xuICB9O1xuXG4gIHZhciByZW5kZXJDaGlsZHJlbiA9IGZ1bmN0aW9uIHJlbmRlckNoaWxkcmVuKGFjY29yZGlvbkNvbnRleHQpIHtcbiAgICB2YXIgZXhwYW5kZWQgPSBkYW5nZXJvdXNseVNldEV4cGFuZGVkICE9PSBudWxsICYmIGRhbmdlcm91c2x5U2V0RXhwYW5kZWQgIT09IHZvaWQgMCA/IGRhbmdlcm91c2x5U2V0RXhwYW5kZWQgOiBhY2NvcmRpb25Db250ZXh0LmlzSXRlbUV4cGFuZGVkKHV1aWQpO1xuICAgIHZhciBkaXNhYmxlZCA9IGFjY29yZGlvbkNvbnRleHQuaXNJdGVtRGlzYWJsZWQodXVpZCk7XG4gICAgdmFyIHBhbmVsQXR0cmlidXRlcyA9IGFjY29yZGlvbkNvbnRleHQuZ2V0UGFuZWxBdHRyaWJ1dGVzKHV1aWQsIGRhbmdlcm91c2x5U2V0RXhwYW5kZWQpO1xuICAgIHZhciBoZWFkaW5nQXR0cmlidXRlcyA9IGFjY29yZGlvbkNvbnRleHQuZ2V0SGVhZGluZ0F0dHJpYnV0ZXModXVpZCk7XG4gICAgdmFyIGJ1dHRvbkF0dHJpYnV0ZXMgPSBhY2NvcmRpb25Db250ZXh0LmdldEJ1dHRvbkF0dHJpYnV0ZXModXVpZCwgZGFuZ2Vyb3VzbHlTZXRFeHBhbmRlZCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KENvbnRleHQkMS5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgdXVpZDogdXVpZCxcbiAgICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIHRvZ2dsZUV4cGFuZGVkOiB0b2dnbGVFeHBhbmRlZCxcbiAgICAgICAgcGFuZWxBdHRyaWJ1dGVzOiBwYW5lbEF0dHJpYnV0ZXMsXG4gICAgICAgIGhlYWRpbmdBdHRyaWJ1dGVzOiBoZWFkaW5nQXR0cmlidXRlcyxcbiAgICAgICAgYnV0dG9uQXR0cmlidXRlczogYnV0dG9uQXR0cmlidXRlc1xuICAgICAgfVxuICAgIH0sIGNoaWxkcmVuKTtcbiAgfTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoQ29uc3VtZXIsIG51bGwsIHJlbmRlckNoaWxkcmVuKTtcbn07XG5cbnZhciBQcm92aWRlcldyYXBwZXIgPSBmdW5jdGlvbiBQcm92aWRlcldyYXBwZXIocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KENvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoYWNjb3JkaW9uQ29udGV4dCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChQcm92aWRlciQxLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIGFjY29yZGlvbkNvbnRleHQ6IGFjY29yZGlvbkNvbnRleHRcbiAgICB9KSk7XG4gIH0pO1xufTtcbnZhciBDb25zdW1lciQxID0gZnVuY3Rpb24gQ29uc3VtZXIoX3JlZjIpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZjIuY2hpbGRyZW47XG5cbiAgdmFyIHJlbmRlckNoaWxkcmVuID0gZnVuY3Rpb24gcmVuZGVyQ2hpbGRyZW4oY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lciA/IGNoaWxkcmVuKGNvbnRhaW5lcikgOiBudWxsO1xuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChDb250ZXh0JDEuQ29uc3VtZXIsIG51bGwsIHJlbmRlckNoaWxkcmVuKTtcbn07XG5cbnZhciBfZXhjbHVkZWQkMSA9IFtcInV1aWRcIiwgXCJkYW5nZXJvdXNseVNldEV4cGFuZGVkXCIsIFwiY2xhc3NOYW1lXCIsIFwiYWN0aXZlQ2xhc3NOYW1lXCJdO1xuXG52YXIgQWNjb3JkaW9uSXRlbSA9IGZ1bmN0aW9uIEFjY29yZGlvbkl0ZW0oX3JlZikge1xuICB2YXIgY3VzdG9tVXVpZCA9IF9yZWYudXVpZCxcbiAgICAgIGRhbmdlcm91c2x5U2V0RXhwYW5kZWQgPSBfcmVmLmRhbmdlcm91c2x5U2V0RXhwYW5kZWQsXG4gICAgICBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICdhY2NvcmRpb25fX2l0ZW0nIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICBhY3RpdmVDbGFzc05hbWUgPSBfcmVmLmFjdGl2ZUNsYXNzTmFtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkJDEpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh1c2VOZXh0SWQoKSksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAxKSxcbiAgICAgIGluc3RhbmNlVXVpZCA9IF91c2VTdGF0ZTJbMF07XG5cbiAgdmFyIHV1aWQgPSBjdXN0b21VdWlkICE9PSBudWxsICYmIGN1c3RvbVV1aWQgIT09IHZvaWQgMCA/IGN1c3RvbVV1aWQgOiBpbnN0YW5jZVV1aWQ7XG5cbiAgdmFyIHJlbmRlckNoaWxkcmVuID0gZnVuY3Rpb24gcmVuZGVyQ2hpbGRyZW4oaXRlbUNvbnRleHQpIHtcbiAgICB2YXIgZXhwYW5kZWQgPSBpdGVtQ29udGV4dC5leHBhbmRlZDtcbiAgICB2YXIgY3ggPSBleHBhbmRlZCAmJiBhY3RpdmVDbGFzc05hbWUgPyBhY3RpdmVDbGFzc05hbWUgOiBjbGFzc05hbWU7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICAgIFwiZGF0YS1hY2NvcmRpb24tY29tcG9uZW50XCI6IFwiQWNjb3JkaW9uSXRlbVwiLFxuICAgICAgY2xhc3NOYW1lOiBjeFxuICAgIH0sIHJlc3QpKTtcbiAgfTtcblxuICBhc3NlcnRWYWxpZEh0bWxJZCh1dWlkLnRvU3RyaW5nKCkpO1xuXG4gIGlmIChyZXN0LmlkKSB7XG4gICAgYXNzZXJ0VmFsaWRIdG1sSWQocmVzdC5pZCk7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoUHJvdmlkZXJXcmFwcGVyLCB7XG4gICAgdXVpZDogdXVpZCxcbiAgICBkYW5nZXJvdXNseVNldEV4cGFuZGVkOiBkYW5nZXJvdXNseVNldEV4cGFuZGVkXG4gIH0sIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KENvbnN1bWVyJDEsIG51bGwsIHJlbmRlckNoaWxkcmVuKSk7XG59O1xuXG5BY2NvcmRpb25JdGVtLmRpc3BsYXlOYW1lID0gRGlzcGxheU5hbWUkMS5BY2NvcmRpb25JdGVtO1xuXG5mdW5jdGlvbiBnZXRDbG9zZXN0QWNjb3JkaW9uKGVsKSB7XG4gIHJldHVybiBlbCAmJiAoZWwubWF0Y2hlcygnW2RhdGEtYWNjb3JkaW9uLWNvbXBvbmVudD1cIkFjY29yZGlvblwiXScpID8gZWwgOiBnZXRDbG9zZXN0QWNjb3JkaW9uKGVsLnBhcmVudEVsZW1lbnQpKTtcbn1cbmZ1bmN0aW9uIGdldFNpYmxpbmdCdXR0b25zKGl0ZW0pIHtcbiAgdmFyIHBhcmVudEFjY29yZGlvbiA9IGdldENsb3Nlc3RBY2NvcmRpb24oaXRlbSk7XG4gIHJldHVybiBwYXJlbnRBY2NvcmRpb24gJiYgQXJyYXkuZnJvbShwYXJlbnRBY2NvcmRpb24ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWNjb3JkaW9uLWNvbXBvbmVudD1cIkFjY29yZGlvbkl0ZW1CdXR0b25cIl0nKSk7XG59XG5mdW5jdGlvbiBmb2N1c0ZpcnN0U2libGluZ09mKGl0ZW0pIHtcbiAgdmFyIHNpYmxpbmdzID0gZ2V0U2libGluZ0J1dHRvbnMoaXRlbSkgfHwgW107XG4gIHZhciBmaXJzdCA9IHNpYmxpbmdzWzBdO1xuXG4gIGlmIChmaXJzdCkge1xuICAgIGZpcnN0LmZvY3VzKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGZvY3VzTGFzdFNpYmxpbmdPZihpdGVtKSB7XG4gIHZhciBzaWJsaW5ncyA9IGdldFNpYmxpbmdCdXR0b25zKGl0ZW0pIHx8IFtdO1xuICB2YXIgbGFzdCA9IHNpYmxpbmdzW3NpYmxpbmdzLmxlbmd0aCAtIDFdO1xuXG4gIGlmIChsYXN0KSB7XG4gICAgbGFzdC5mb2N1cygpO1xuICB9XG59XG5mdW5jdGlvbiBmb2N1c05leHRTaWJsaW5nT2YoaXRlbSkge1xuICB2YXIgc2libGluZ3MgPSBnZXRTaWJsaW5nQnV0dG9ucyhpdGVtKSB8fCBbXTtcbiAgdmFyIGN1cnJlbnRJbmRleCA9IHNpYmxpbmdzLmluZGV4T2YoaXRlbSk7XG5cbiAgaWYgKGN1cnJlbnRJbmRleCAhPT0gLTEpIHtcbiAgICB2YXIgbmV4dCA9IHNpYmxpbmdzW2N1cnJlbnRJbmRleCArIDFdO1xuXG4gICAgaWYgKG5leHQpIHtcbiAgICAgIG5leHQuZm9jdXMoKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGZvY3VzUHJldmlvdXNTaWJsaW5nT2YoaXRlbSkge1xuICB2YXIgc2libGluZ3MgPSBnZXRTaWJsaW5nQnV0dG9ucyhpdGVtKSB8fCBbXTtcbiAgdmFyIGN1cnJlbnRJbmRleCA9IHNpYmxpbmdzLmluZGV4T2YoaXRlbSk7XG5cbiAgaWYgKGN1cnJlbnRJbmRleCAhPT0gLTEpIHtcbiAgICB2YXIgcHJldmlvdXMgPSBzaWJsaW5nc1tjdXJyZW50SW5kZXggLSAxXTtcblxuICAgIGlmIChwcmV2aW91cykge1xuICAgICAgcHJldmlvdXMuZm9jdXMoKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGtleWNvZGVzID0ge1xuICBFTkQ6ICdFbmQnLFxuICBFTlRFUjogJ0VudGVyJyxcbiAgSE9NRTogJ0hvbWUnLFxuICBTUEFDRTogJyAnLFxuICBTUEFDRV9ERVBSRUNBVEVEOiAnU3BhY2ViYXInLFxuICBVUDogJ0Fycm93VXAnLFxuICBET1dOOiAnQXJyb3dEb3duJyxcbiAgTEVGVDogJ0Fycm93TGVmdCcsXG4gIFJJR0hUOiAnQXJyb3dSaWdodCdcbn07XG5cbnZhciBfZXhjbHVkZWQkMiA9IFtcInRvZ2dsZUV4cGFuZGVkXCIsIFwiY2xhc3NOYW1lXCJdO1xuXG52YXIgQWNjb3JkaW9uSXRlbUJ1dHRvbiA9IGZ1bmN0aW9uIEFjY29yZGlvbkl0ZW1CdXR0b24oX3JlZikge1xuICB2YXIgdG9nZ2xlRXhwYW5kZWQgPSBfcmVmLnRvZ2dsZUV4cGFuZGVkLFxuICAgICAgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnYWNjb3JkaW9uX19idXR0b24nIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCQyKTtcblxuICB2YXIgaGFuZGxlS2V5UHJlc3MgPSBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhldnQpIHtcbiAgICB2YXIga2V5Q29kZSA9IGV2dC5rZXk7XG5cbiAgICBpZiAoa2V5Q29kZSA9PT0ga2V5Y29kZXMuRU5URVIgfHwga2V5Q29kZSA9PT0ga2V5Y29kZXMuU1BBQ0UgfHwga2V5Q29kZSA9PT0ga2V5Y29kZXMuU1BBQ0VfREVQUkVDQVRFRCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0b2dnbGVFeHBhbmRlZCgpO1xuICAgIH1cbiAgICAvKiBUaGUgZm9sbG93aW5nIGJsb2NrIGlzIGlnbm9yZWQgZnJvbSB0ZXN0IGNvdmVyYWdlIGJlY2F1c2UgYXQgdGltZVxuICAgICAqIHRpbWUgb2Ygd3JpdGluZyBKZXN0L3JlYWN0LXRlc3RpbmctbGlicmFyeSBjYW4gbm90IGFzc2VydCAnZm9jdXMnXG4gICAgICogZnVuY3Rpb25hbGl0eS5cbiAgICAgKi9cbiAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuXG5cbiAgICBpZiAoZXZ0LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgICAgY2FzZSBrZXljb2Rlcy5IT01FOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZm9jdXNGaXJzdFNpYmxpbmdPZihldnQudGFyZ2V0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIGtleWNvZGVzLkVORDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGZvY3VzTGFzdFNpYmxpbmdPZihldnQudGFyZ2V0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIGtleWNvZGVzLkxFRlQ6XG4gICAgICAgIGNhc2Uga2V5Y29kZXMuVVA6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBmb2N1c1ByZXZpb3VzU2libGluZ09mKGV2dC50YXJnZXQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2Uga2V5Y29kZXMuUklHSFQ6XG4gICAgICAgIGNhc2Uga2V5Y29kZXMuRE9XTjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGZvY3VzTmV4dFNpYmxpbmdPZihldnQudGFyZ2V0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgaWYgKHJlc3QuaWQpIHtcbiAgICBhc3NlcnRWYWxpZEh0bWxJZChyZXN0LmlkKTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgfSwgcmVzdCwge1xuICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgdGFiSW5kZXg6IDAsXG4gICAgb25DbGljazogdG9nZ2xlRXhwYW5kZWQsXG4gICAgb25LZXlEb3duOiBoYW5kbGVLZXlQcmVzcyxcbiAgICBcImRhdGEtYWNjb3JkaW9uLWNvbXBvbmVudFwiOiBcIkFjY29yZGlvbkl0ZW1CdXR0b25cIlxuICB9KSk7XG59O1xuXG52YXIgQWNjb3JkaW9uSXRlbUJ1dHRvbldyYXBwZXIgPSBmdW5jdGlvbiBBY2NvcmRpb25JdGVtQnV0dG9uV3JhcHBlcihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoQ29uc3VtZXIkMSwgbnVsbCwgZnVuY3Rpb24gKGl0ZW1Db250ZXh0KSB7XG4gICAgdmFyIHRvZ2dsZUV4cGFuZGVkID0gaXRlbUNvbnRleHQudG9nZ2xlRXhwYW5kZWQsXG4gICAgICAgIGJ1dHRvbkF0dHJpYnV0ZXMgPSBpdGVtQ29udGV4dC5idXR0b25BdHRyaWJ1dGVzO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChBY2NvcmRpb25JdGVtQnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgICB0b2dnbGVFeHBhbmRlZDogdG9nZ2xlRXhwYW5kZWRcbiAgICB9LCBwcm9wcywgYnV0dG9uQXR0cmlidXRlcykpO1xuICB9KTtcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJ2FjY29yZGlvbl9faGVhZGluZycsXG4gICdhcmlhLWxldmVsJzogM1xufTtcbnZhciBTUEVDX0VSUk9SID0gXCJBY2NvcmRpb25JdGVtQnV0dG9uIG1heSBjb250YWluIG9ubHkgb25lIGNoaWxkIGVsZW1lbnQsIHdoaWNoIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgQWNjb3JkaW9uSXRlbUJ1dHRvbi5cXG5cXG5Gcm9tIHRoZSBXQUktQVJJQSBzcGVjIChodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtcHJhY3RpY2VzLTEuMS8jYWNjb3JkaW9uKTpcXG5cXG5cXHUyMDFDVGhlIGJ1dHRvbiBlbGVtZW50IGlzIHRoZSBvbmx5IGVsZW1lbnQgaW5zaWRlIHRoZSBoZWFkaW5nIGVsZW1lbnQuIFRoYXQgaXMsIGlmIHRoZXJlIGFyZSBvdGhlciB2aXN1YWxseSBwZXJzaXN0ZW50IGVsZW1lbnRzLCB0aGV5IGFyZSBub3QgaW5jbHVkZWQgaW5zaWRlIHRoZSBoZWFkaW5nIGVsZW1lbnQuXFx1MjAxRFxcblxcblwiO1xudmFyIEFjY29yZGlvbkl0ZW1IZWFkaW5nID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQWNjb3JkaW9uSXRlbUhlYWRpbmcsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEFjY29yZGlvbkl0ZW1IZWFkaW5nKTtcblxuICBmdW5jdGlvbiBBY2NvcmRpb25JdGVtSGVhZGluZygpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWNjb3JkaW9uSXRlbUhlYWRpbmcpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwuYXBwbHkoX3N1cGVyLCBbdGhpc10uY29uY2F0KGFyZ3MpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZWZcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZXRSZWZcIiwgZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMucmVmID0gcmVmO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEFjY29yZGlvbkl0ZW1IZWFkaW5nLCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgQWNjb3JkaW9uSXRlbUhlYWRpbmcuVkFMSURBVEUodGhpcy5yZWYpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIEFjY29yZGlvbkl0ZW1IZWFkaW5nLlZBTElEQVRFKHRoaXMucmVmKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgICAgIFwiZGF0YS1hY2NvcmRpb24tY29tcG9uZW50XCI6IFwiQWNjb3JkaW9uSXRlbUhlYWRpbmdcIlxuICAgICAgfSwgdGhpcy5wcm9wcywge1xuICAgICAgICByZWY6IHRoaXMuc2V0UmVmXG4gICAgICB9KSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiVkFMSURBVEVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gVkFMSURBVEUocmVmKSB7XG4gICAgICBpZiAocmVmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZWYgaXMgdW5kZWZpbmVkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghKHJlZi5jaGlsZEVsZW1lbnRDb3VudCA9PT0gMSAmJiByZWYuZmlyc3RFbGVtZW50Q2hpbGQgJiYgcmVmLmZpcnN0RWxlbWVudENoaWxkLmdldEF0dHJpYnV0ZSgnZGF0YS1hY2NvcmRpb24tY29tcG9uZW50JykgPT09ICdBY2NvcmRpb25JdGVtQnV0dG9uJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFNQRUNfRVJST1IpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBY2NvcmRpb25JdGVtSGVhZGluZztcbn0oUHVyZUNvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShBY2NvcmRpb25JdGVtSGVhZGluZywgXCJkZWZhdWx0UHJvcHNcIiwgZGVmYXVsdFByb3BzKTtcblxudmFyIEFjY29yZGlvbkl0ZW1IZWFkaW5nV3JhcHBlciA9IGZ1bmN0aW9uIEFjY29yZGlvbkl0ZW1IZWFkaW5nV3JhcHBlcihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoQ29uc3VtZXIkMSwgbnVsbCwgZnVuY3Rpb24gKGl0ZW1Db250ZXh0KSB7XG4gICAgdmFyIGhlYWRpbmdBdHRyaWJ1dGVzID0gaXRlbUNvbnRleHQuaGVhZGluZ0F0dHJpYnV0ZXM7XG5cbiAgICBpZiAocHJvcHMuaWQpIHtcbiAgICAgIGFzc2VydFZhbGlkSHRtbElkKHByb3BzLmlkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoQWNjb3JkaW9uSXRlbUhlYWRpbmcsIF9leHRlbmRzKHt9LCBwcm9wcywgaGVhZGluZ0F0dHJpYnV0ZXMpKTtcbiAgfSk7XG59O1xuXG5BY2NvcmRpb25JdGVtSGVhZGluZ1dyYXBwZXIuZGlzcGxheU5hbWUgPSBEaXNwbGF5TmFtZSQxLkFjY29yZGlvbkl0ZW1IZWFkaW5nO1xuXG52YXIgX2V4Y2x1ZGVkJDMgPSBbXCJjbGFzc05hbWVcIiwgXCJyZWdpb25cIiwgXCJpZFwiXTtcblxudmFyIEFjY29yZGlvbkl0ZW1QYW5lbCA9IGZ1bmN0aW9uIEFjY29yZGlvbkl0ZW1QYW5lbChfcmVmKSB7XG4gIHZhciBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/ICdhY2NvcmRpb25fX3BhbmVsJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgcmVnaW9uID0gX3JlZi5yZWdpb24sXG4gICAgICBpZCA9IF9yZWYuaWQsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCQzKTtcblxuICB2YXIgcmVuZGVyQ2hpbGRyZW4gPSBmdW5jdGlvbiByZW5kZXJDaGlsZHJlbihfcmVmMikge1xuICAgIHZhciBwYW5lbEF0dHJpYnV0ZXMgPSBfcmVmMi5wYW5lbEF0dHJpYnV0ZXM7XG5cbiAgICBpZiAoaWQpIHtcbiAgICAgIGFzc2VydFZhbGlkSHRtbElkKGlkKTtcbiAgICB9XG5cbiAgICB2YXIgYXR0cnMgPSBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgcGFuZWxBdHRyaWJ1dGVzKSwge30sIHtcbiAgICAgICdhcmlhLWxhYmVsbGVkYnknOiByZWdpb24gPyBwYW5lbEF0dHJpYnV0ZXNbJ2FyaWEtbGFiZWxsZWRieSddIDogdW5kZWZpbmVkXG4gICAgfSk7XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgICAgXCJkYXRhLWFjY29yZGlvbi1jb21wb25lbnRcIjogXCJBY2NvcmRpb25JdGVtUGFuZWxcIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgfSwgcmVzdCwgYXR0cnMsIHtcbiAgICAgIHJvbGU6IHJlZ2lvbiA/ICdyZWdpb24nIDogdW5kZWZpbmVkXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChDb25zdW1lciQxLCBudWxsLCByZW5kZXJDaGlsZHJlbik7XG59O1xuXG52YXIgQWNjb3JkaW9uSXRlbVN0YXRlID0gZnVuY3Rpb24gQWNjb3JkaW9uSXRlbVN0YXRlKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcblxuICB2YXIgcmVuZGVyQ2hpbGRyZW4gPSBmdW5jdGlvbiByZW5kZXJDaGlsZHJlbihpdGVtQ29udGV4dCkge1xuICAgIHZhciBleHBhbmRlZCA9IGl0ZW1Db250ZXh0LmV4cGFuZGVkLFxuICAgICAgICBkaXNhYmxlZCA9IGl0ZW1Db250ZXh0LmRpc2FibGVkO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgY2hpbGRyZW4oe1xuICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovY3JlYXRlRWxlbWVudChDb25zdW1lciQxLCBudWxsLCByZW5kZXJDaGlsZHJlbik7XG59O1xuXG5leHBvcnQgeyBBY2NvcmRpb24sIEFjY29yZGlvbkl0ZW0sIEFjY29yZGlvbkl0ZW1CdXR0b25XcmFwcGVyIGFzIEFjY29yZGlvbkl0ZW1CdXR0b24sIEFjY29yZGlvbkl0ZW1IZWFkaW5nV3JhcHBlciBhcyBBY2NvcmRpb25JdGVtSGVhZGluZywgQWNjb3JkaW9uSXRlbVBhbmVsLCBBY2NvcmRpb25JdGVtU3RhdGUsIHJlc2V0R2xvYmFsQ291bnRlcklkIGFzIHJlc2V0TmV4dFV1aWQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-accessible-accordion/dist/es/index.js\n");

/***/ })

};
;